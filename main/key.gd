class_name Key
extends ColorRect


signal pressed(which_key: Key)

## The available key colors on the Novation Launchpad Pro Mk 3
const KEY_COLORS: Array[Color] = [ 
	Color("#616161"),
	Color("#B3B3B3"),
	Color("#DDDDDD"),
	Color("#FFFFFF"),
	Color("#FFB3B3"),
	Color("#FF6161"),
	Color("#DD6161"),
	Color("#B36161"),
	Color("#FFF3D5"),
	Color("#FFB361"),
	Color("#DD8C61"),
	Color("#B37661"),
	Color("#FFEEA1"),
	Color("#FFFF61"),
	Color("#DDDD61"),
	Color("#B3B361"),
	Color("#DDFFA1"),
	Color("#C2FF61"),
	Color("#A1DD61"),
	Color("#81B361"),
	Color("#C2FFB3"),
	Color("#61FF61"),
	Color("#61DD61"),
	Color("#61B361"),
	Color("#C2FFC2"),
	Color("#61FF8C"),
	Color("#61DD76"),
	Color("#61B36B"),
	Color("#C2FFCC"),
	Color("#61FFCC"),
	Color("#61DDA1"),
	Color("#61B381"),
	Color("#C2FFF3"),
	Color("#61FFE9"),
	Color("#61DDC2"),
	Color("#61B396"),
	Color("#C2F3FF"),
	Color("#61EEFF"),
	Color("#61C7DD"),
	Color("#61A1B3"),
	Color("#C2DDFF"),
	Color("#61C7FF"),
	Color("#61A1DD"),
	Color("#6181B3"),
	Color("#A18CFF"),
	Color("#6161FF"),
	Color("#6161DD"),
	Color("#6161B3"),
	Color("#CCB3FF"),
	Color("#A161FF"),
	Color("#8161DD"),
	Color("#7661B3"),
	Color("#FFB3FF"),
	Color("#FF61FF"),
	Color("#DD61DD"),
	Color("#B361B3"),
	Color("#FFB3D5"),
	Color("#FF61C2"),
	Color("#DD61A1"),
	Color("#B3618C"),
	Color("#FF7661"),
	Color("#E9B361"),
	Color("#DDC261"),
	Color("#A1A161"),
	Color("#61B361"),
	Color("#61B38C"),
	Color("#618CD5"),
	Color("#6161FF"),
	Color("#61B3B3"),
	Color("#8C61F3"),
	Color("#CCB3C2"),
	Color("#8C7681"),
	Color("#FF6161"),
	Color("#F3FFA1"),
	Color("#EEFC61"),
	Color("#CCFF61"),
	Color("#76DD61"),
	Color("#61FFCC"),
	Color("#61E9FF"),
	Color("#61A1FF"),
	Color("#8C61FF"),
	Color("#CC61FC"),
	Color("#EE8CDD"),
	Color("#A17661"),
	Color("#FFA161"),
	Color("#DDF961"),
	Color("#D5FF8C"),
	Color("#61FF61"),
	Color("#B3FFA1"),
	Color("#CCFCD5"),
	Color("#B3FFF6"),
	Color("#CCE4FF"),
	Color("#A1C2F6"),
	Color("#D5C2F9"),
	Color("#F98CFF"),
	Color("#FF61CC"),
	Color("#FFC261"),
	Color("#F3EE61"),
	Color("#E4FF61"),
	Color("#DDCC61"),
	Color("#B3A161"),
	Color("#61BA76"),
	Color("#76C28C"),
	Color("#8181A1"),
	Color("#818CCC"),
	Color("#CCAA81"),
	Color("#DD6161"),
	Color("#F9B3A1"),
	Color("#F9BA76"),
	Color("#FFF38C"),
	Color("#E9F9A1"),
	Color("#D5EE76"),
	Color("#8181A1"),
	Color("#F9F9D5"),
	Color("#DDFCE4"),
	Color("#E9E9FF"),
	Color("#E4D5FF"),
	Color("#B3B3B3"),
	Color("#D5D5D5"),
	Color("#F9FFFF"),
	Color("#E96161"),
	Color("#AA6161"),
	Color("#81F661"),
	Color("#61B361"),
	Color("#F3EE61"),
	Color("#B3A161"),
	Color("#EEC261"),
	Color("#C27661"),
]

## The keycodes for the central keys ordered from top left to right
const KEY_CODES: Array[int] = [
	81,
	82,
	83,
	84,
	85,
	86,
	87,
	88,
	71,
	72,
	73,
	74,
	75,
	76,
	77,
	78,
	61,
	62,
	63,
	64,
	65,
	66,
	67,
	68,
	51,
	52,
	53,
	54,
	55,
	56,
	57,
	58,
	41,
	42,
	43,
	44,
	45,
	46,
	47,
	48,
	31,
	32,
	33,
	34,
	35,
	36,
	37,
	38,
	21,
	22,
	23,
	24,
	25,
	26,
	27,
	28,
	11,
	12,
	13,
	14,
	15,
	16,
	17,
	18,
]

var temp_color: Color:
	set(value):
		temp_color = value
		reserve_color = color
		color = value

var reserve_color: Color


func _on_button_pressed() -> void:
	pressed.emit(self)
